<div #viewPort class="infinite-scroll-container" *ngIf="users$ | async as people">
  <article class="responsive-content">
    <div
      class="g-4"
      infiniteScroll
      [scrollWindow]="false"
      [infiniteScrollContainer]="viewPort"
      (scrolled)="nextBatch($event, people.length)"
      fxLayout="row wrap"
      fxLayoutAlign="space-around stretch"
    >
      <div *ngFor="let user of people; trackBy: trackByIdx" class="ge" fxFlex="1 0 300px">
        <a class="no-style" [routerLink]="['/users', user._id]">
          <app-user-card [user]="user"></app-user-card>
        </a>
      </div>
    </div>
  </article>
</div>
